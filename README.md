# 任务进度管理器 - 描述与使用说明

## 程序概述

任务进度管理器是一款基于 PyQt5 开发的桌面应用程序，专为需要跟踪多任务进度的用户设计。该程序允许您创建包含多个子任务的复杂项目，记录每日进度，并通过直观的图表分析进度趋势和预测完成时间。

## 主要功能

### 1. 多任务管理
- 创建多个独立任务，每个任务可设置不同状态（进行中、暂停、废止）
- 每个任务可包含多个子任务，分别设置总量和进度

### 2. 进度跟踪
- 按日期记录每个子任务的进度值
- 支持自动偏移功能，便于连续记录
- 实时计算总体进度百分比

### 3. 智能预测
- 基于最近7天记录自动预测剩余天数
- 计算预计完成日期
- 增量模式和总量模式两种分析方式

### 4. 可视化分析
- 折线图展示任务进度趋势
- 可选择总量模式或增量模式查看数据
- 数据点标签显示具体数值

### 5. 数据持久化
- 自动保存数据到本地 JSON 文件
- 程序重启后自动恢复上次的工作状态

## 安装要求

运行此程序需要以下环境：
- Python 3.6+
- PyQt5 库
- QtChart 模块

安装依赖：
```bash
pip install PyQt5
```

## 使用指南

### 1. 创建新任务
- 点击左侧"添加新任务"按钮
- 输入任务名称
- 任务默认状态为"进行中"

### 2. 添加子任务
- 右键点击任务，选择"添加子任务"
- 输入子任务名称和总量（默认100）
- 一个任务可添加多个子任务

### 3. 记录进度
1. 在左侧任务列表中选择要操作的任务
2. 在子任务列表中选择要记录的子任务
3. 设置日期和进度值
4. 可使用"自动偏移"功能调整显示值
5. 点击"登记进度"保存

### 4. 查看分析
- 切换到"图表分析"模式
- 选择"总量模式"查看累计进度
- 选择"增量模式"查看每日增量变化
- 图表显示所有子任务和总任务的进度曲线

### 5. 任务管理
- 右键点击任务可进行多种操作：
  - 更改状态（进行中/暂停/废止）
  - 重命名任务
  - 添加子任务
  - 删除任务（含所有子任务）

## 数据说明

### 进度计算
- 总进度 = 所有子任务完成量之和 / 所有子任务总量之和 × 100%
- 子任务进度 = 该子任务完成量 / 该子任务总量 × 100%

### 预测算法
- 基于最近7天有记录的数据计算平均日增量
- 剩余天数 = 剩余工作量 / 平均日增量
- 预计完成日期 = 当前日期 + 剩余天数

## 使用技巧

1. **定期记录**：建议每天记录进度，以获得更准确的预测
2. **合理设置总量**：根据实际工作量设置适当的子任务总量
3. **利用自动偏移**：当进度值需要从非零开始时，使用偏移功能
4. **状态管理**：及时更新任务状态，便于区分不同阶段的任务
5. **图表分析**：使用增量模式分析工作效率变化趋势

## 文件存储

程序数据保存在同目录下的 `tasks.json` 文件中，格式为 JSON，可直接查看和备份。

## 注意事项

- 删除任务将同时删除所有子任务和进度记录，操作前请确认
- 程序不会自动备份数据，建议定期手动备份 `tasks.json` 文件
- 预测结果基于历史数据，实际完成时间可能因各种因素有所不同

## 技术支持

本程序由 TZYLT 开发，如有问题或建议，请联系开发者。

希望这个任务进度管理器能帮助您更高效地管理工作和项目进度！
